## 信号和槽

```c++
// connect(信号发送者， 发送的信号， 信号接收者， 处理槽函数)

// 点击按钮关闭窗口
connect(myBtn, &MyPushButton::clicked, this, &MainWindow::close);
```

## 自定义信号与槽

自定义信号：

- 位置：signals。
- 返回值类型：void。
- 只声明，不实现。
- 可含参，可重载。

自定义槽函数：

- 位置：public slot。
- 返回值类型：void。
- 声明，且实现。
- 可含参，可重载。

```c++
// 绑定信号与槽。
connect(te, &Teacher::hungry, st, &Student::treat);
// 触发信号。
emit this->te->hungry();
```

## 有参信号与槽（重载）

使用函数指针指向函数地址。

```c++
// 信号
void hungry(QString foodName);
// 槽函数
void treat(QString foodName);
void Student::treat(QString foodName)
{
    // QString转char *：解决输出参数带双引号的问题。
    //  1. 通过.toUtf8() 转为QByteArray类型。
    //  2. 通过.data() 转为QByteArray类型。
    qDebug() << "Teacher and Student eat eat ..." << foodName.toUtf8().data();
}

// 绑定信号与槽。
void (Teacher:: *teacherSignal)(QString) = &Teacher::hungry;
void (Student:: *studentSignal)(QString) = &Student::treat;
connect(te, teacherSignal, st, studentSignal);
// 触发信号。
emit this->te->hungry("茶树菇炒肉");
```



